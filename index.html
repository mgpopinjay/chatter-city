<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<style>
/*
path.tract {
	fill: #aaa;
	stroke-width: 1px;
	stroke: #000;
}

path.tract:hover {
	fill: #f0f;
}
*/
 
	path.tract {
	  fill: #eee;
	}

	path.tract:hover {
	  fill: orange;
	}

	path.tract-border {
	  fill: none;
	  stroke: #777;
	  pointer-events: none;
	}
 
</style>
</head>


	<body>
		<p> test </p>

	<script src="d3.js"></script>
	<script src="http://d3js.org/topojson.v1.min.js"></script>
	<script>


	var width = 800,
    height = 1200;

	var projection = d3.geo.transverseMercator()
	    .rotate([73 + 98 / 60, -40 - 71 / 60]);

	var path = d3.geo.path()
	    .projection(projection);

	var svg = d3.select("body").append("svg")
	    .attr("width", width)
	    .attr("height", height);

	d3.json("nynta.topojson", function(error, nynta) {
	  var tracts = topojson.feature(nynta , nynta.objects.nynta);

	  projection
	      .scale(1)
	      .translate([0, 0]);

	  var b = path.bounds(tracts),
	      s = .95 / Math.max((b[1][0] - b[0][0]) / width, (b[1][1] - b[0][1]) / height),
	      t = [(width - s * (b[1][0] + b[0][0])) / 2, (height - s * (b[1][1] + b[0][1])) / 2];

	  projection
	      .scale(s)
	      .translate(t);

	  svg.selectAll("path")
	      .data(tracts.features.filter(function(d) { return (d.id / 10000 | 0) % 100 !== 99; }))
	    .enter().append("path")
	      .attr("class", "tract")
	      .attr("d", path)
	    .append("title")
	      .text(function(d) { return d.id; });

	  svg.append("path")
	      .datum(topojson.mesh(nynta, nynta.objects.nynta, function(a, b) { return a !== b; }))
	      .attr("class", "tract-border")
	      .attr("d", path);
	});

	d3.select(self.frameElement).style("height", height + "px");




	</script>

		

